{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About","text":"<p>wiwik (What I wish I knew) is a knowledge management system aimed to be used by tech companies.</p> <p> wiwik follows the sponsorware release strategy, which means that new features are first exclusively released to sponsors as part of wiwik-insiders. Click the link to understand how to get access to wiwik-insiders and what's in it for you.</p> <p>In most tech organizations, developers ask other developers in messaging applications. This interrupts developers answering, and the impact is amplified for the developers answering as they have to restart their work (i.e., context-switch). Senior developers dedicate 30-60% of their time to answering such questions, which prevents them from delivering features:</p> <p>\"Interruption-driven work environments lead to lower-quality decisions and reduce speed on complex tasks... Distracted workers tend to skip or put off tasks with high value, like planning and problem-solving.\" 1</p> <p>As the codebase of the company grows, there is an increased difficulty collecting, updating, and sharing developer standards. Maintaining up-to-date documentation is a tedious task, and expecting developers to know where to look for the part relevant to their specific work is not realistic.</p>"},{"location":"#the-solution-wiwik-offer","title":"The solution wiwik offer","text":"<p>For developers, an environment with stack overflow look &amp; feel, with:</p> <ul> <li>Easy to search and find concise answers (unlike documentation) ranked by   developers like them.</li> <li>No answering the same question twice.</li> <li>Recognition for sharing knowledge, i.e., answering questions, which private   messages do   not offer.</li> <li>Living documentation as Q&amp;A.</li> <li>Ability to be notified about new posts around what interests them.</li> <li>Fully integrated with slack: Search from slack, convert slack msg to question,   notifications, etc.</li> </ul> <p>For technical managers, ability to identify:</p> <ul> <li>Gaps in documentation and boarding process.</li> <li>Areas in the code that require attention.</li> <li>Experts in specific areas within the development team.</li> </ul> <p>General</p> <ul> <li>wiwik is deployed on company \u201cterritory\u201d and it can be leveraged for any   analysis not offered directly by wiwik   features. Also, the company can adjust the server capacity.</li> <li>Resources requirements to manage wiwik are minimal:</li> <li>Schedule some upfront question-and-answer seeding.</li> <li>Ongoing moderation and management mostly done by its active users.</li> </ul>"},{"location":"#supported-features","title":"Supported features","text":"<ul> <li> Post articles, questions and answers (Optional: also anonymously)</li> <li> See similar questions while typing title of new question</li> <li> Comment on question/answer (and delete your own comments)</li> <li> Accept answer as the correct answer</li> <li> Upvote/Downvote question/answer</li> <li> Bookmark thread (thread is question+its answers)</li> <li> Follow thread (be notified whenever there is an activity on thread)</li> <li> View user profiles including all data about them (   questions/answers/votes/reputation/bookmarks)</li> <li> Dark/light mode</li> <li> Edit and delete your own question/answer</li> <li> Download thread as markdown</li> <li> Login with Google, facebook</li> <li> Follow tags (be notified about activity on tag)</li> <li> Add/edit tag descriptions</li> <li> Search</li> <li> All input supports Markdown, LaTeX and mermaidjs</li> <li> Email notifications regarding followed tags/threads</li> <li> Invite others to answer a question</li> <li> Forum moderation:<ul> <li> Edit and delete questions/answers</li> </ul> </li> <li> Related questions</li> <li> Slack integration</li> <li> Badges (gamification)</li> <li> Tags as wiki pages</li> <li> Digest report, usage reports, etc.</li> <li> Tag info pages as documentation</li> <li> Ability to deactivate users as staff user</li> <li> RSS feed</li> </ul>"},{"location":"#under-development","title":"Under development","text":"<ul> <li> Sub-communities: allow posts to belong to private communities</li> <li> Questions drafts</li> <li> Microsoft Teams notifications</li> <li> GitHub view of user activity</li> <li> Soft-delete of posts</li> </ul> <ol> <li> <p>\u201cEngineer Your Technology Environment To Improve Employee Productivity And Flow,\u201d Forrester Research, Inc., December 15, 2017. \u21a9</p> </li> </ol>"},{"location":"faq/","title":"Frequently asked questions","text":""},{"location":"faq/#convert-postgres-to-sqlite3","title":"Convert postgres to sqlite3","text":"<p>If you need a dump of a DB from a server for local testing, you can convert postgresql to sqlite database using <code>db-to-sqlite</code>.</p> <pre><code>db-to-sqlite \"postgresql://devbb:devbb@localhost/devbb\" my2021-12-10.sqlite3 --all\n</code></pre> <p>Then copy the database file (<code>my.sqlite3</code>) under <code>forum/</code> folder locally and you can run the local server using the data from the server.</p>"},{"location":"faq/#reset-all-users-passwords","title":"Reset all users passwords","text":"<p>Can be done by running:</p> <pre><code>cd forum/\npython manage.py reset_users_password\n</code></pre>"},{"location":"faq/#restore-postgres-from-dump","title":"Restore postgres from dump","text":"<pre><code>psql --file=scripts/backup_2021-11-06__00-00-01.sql --username=devbb --host=localhost --port=5432 devbb\n</code></pre>"},{"location":"faq/#is-it-ok-to-copy-stackoverflow-features","title":"Is it ok to copy stackoverflow features?","text":"<p>Yes, see here</p>"},{"location":"local-dev/","title":"Local Development Guide","text":""},{"location":"local-dev/#prerequisites","title":"Prerequisites","text":"<ul> <li>python3.10 or above: (<code>brew install python3.10</code> on mac)</li> <li>virtualenv  (<code>sudo pip install virtualenv</code> on mac)</li> <li>redis (in order to run with async workers) - this can be provided as docker container</li> <li>postgresql (for full-text-search capability)<ul> <li>PostgreSQL can be provided as docker container</li> <li>This is an optional requirement, and can be replaced with sqlite for most development purposes.</li> </ul> </li> </ul>"},{"location":"local-dev/#components-diagram","title":"Components diagram","text":"<p>PostgreSQL can be replaced with SQLite3 by configuring the <code>.env</code> file.</p> <p>A sample database with some data is provided.</p> <pre><code>graph LR\n    subgraph localhost\n        wiwik -- 5432 --&gt; postgres\n        wiwik -- 6379--&gt; redis\n        redis -- 6379--&gt; wiwik-worker        \n        subgraph docker\n            postgres\n            redis\n        end\n    end \n    browser -- http://localhost:8000/ --&gt; wiwik </code></pre>"},{"location":"local-dev/#step-by-step","title":"Step by step","text":"<p>A step by step series of examples that tell you how to get a development env running locally:</p> <ol> <li> <p>clone repository</p> <pre><code>git clone https://github.com/dsoftwareinc/wiwik\n</code></pre> </li> <li> <p>In the local repository directory, create a virtual environment and activate    it.</p> <pre><code>virtualenv env -p `which python3.10`\nsource env/bin/activate\n</code></pre> </li> <li> <p>Install dependencies required for the project</p> <pre><code>pip install -r requirements.txt\n</code></pre> </li> <li> <p>create <code>.env</code> file with environment variables (a full guide of environment variables).</p> <p>A sample <code>.env</code> file is provided.</p> </li> <li> <p>In order to use search functionality, your database should be postgres. You can run a local container with    postgres: <code>docker-compose up db</code>, it will create a local directory from where    you run it with postgres data. Postgres can be replaced with SQLite3 in <code>.env</code> file (comment <code>SQL_*</code> variables)</p> </li> <li> <p>Create all required tables by running migrations:    <pre><code>cd forum/\npython manage.py migrate\n</code></pre></p> </li> <li> <p>That's it, you are ready to run the server. Change directory to <code>forum</code> (    under the repository base directory) and run the django server. The server    is running by default on port 8000 so you in your browser    to <code>localhost:8000</code>.    <pre><code>cd forum/\npython manage.py runserver\n</code></pre></p> </li> <li> <p>In order test background worker and scheduler as well, redis should be setup    and worker should be run. To run redis docker, you can use the docker-compose    command: <code>docker-compose up redis db</code> (this will run both redis and    postgres).    Then you can run another process with a worker:    <pre><code>cd forum/\npython manage.py rqworker\n</code></pre>    Alternatively, you can use the scripts <code>rqworker.sh</code> and <code>rqscheduler.sh</code> to    start these.</p> </li> <li> <p>In order to enable google auth, replace the <code>GOOGLE_CLIENT_ID</code>    and <code>GOOGLE_SECRET_KEY</code> in <code>.env</code> file with your google app oauth client ID.    For more details how, you can follow    this tutorial    Only step 7 is required.</p> </li> <li> <p>Run a management command to create social apps in the database after setting     environment variables:     <pre><code>python manage.py create_social_apps\n</code></pre></p> </li> </ol>"},{"location":"wiwik-insiders/","title":"wiwik-insiders","text":"<p>wiwik-insiders is a private fork of wiwik, hosted as a private GitHub repository. Almost1 all new features are developed as part of this fork, which means that they are immediately available to all eligible sponsors, as they are made collaborators of this repository.</p> <p>Every feature is tied to a funding goal in monthly subscriptions. When a funding goal is hit, the features that are tied to it are merged back into wiwik and released for general availability, making them available to all users. Bugfixes are always released in tandem.</p> <p>Sponsorships start as low as $15 a month.</p>"},{"location":"wiwik-insiders/#what-sponsorships-achieve","title":"What sponsorships achieve","text":"<p>Sponsorships make this project sustainable, as they buy the maintainers of this project time \u2013 a very scarce resource \u2013 which is spent on the development of new features, bug fixing, stability improvement, issue triage and general support. The biggest bottleneck in Open Source is time.</p>"},{"location":"wiwik-insiders/#whats-in-it-for-me","title":"What's in it for me?","text":"<p>The moment you become a sponsor, you'll get immediate access to additional features that you can start using right away, and which are currently exclusively available to sponsors:</p> <ul> <li> helm-charts: Enable easy deployment on kubernetes cluster.</li> <li> Post drafts: Allow saving posts without publishing them, excellent for crawling existing knowledge</li> <li> Integration with slack: Post from slack, search from slack, send notifications on slack.</li> </ul>"},{"location":"wiwik-insiders/#terms","title":"Terms","text":"<p>Are we allowed to use wiwik-insiders under the same terms and conditions as regular wiwik?</p> <p>Yes. Whether you're an individual or a company, you may use wiwik-insiders precisely under the same terms as wiwik, which are given by the MIT license. However, we kindly ask you to respect our fair use policy:</p> <ul> <li> <p>Please don't distribute the source code of Insiders. You may freely use it for public, private or commercial projects, privately fork or mirror it, but please don't make the source code public, as it would counteract the sponsorware strategy.</p> </li> <li> <p>If you cancel your subscription, you're automatically removed as a collaborator and will miss out on all future updates of Insiders. However, you may use the latest version that's available to you as long as you like. Just remember that GitHub deletes private forks.</p> </li> </ul>"},{"location":"arch/","title":"Project structure","text":""},{"location":"arch/#django-apps-dependency-grapth-for-creating-database-tables","title":"Django-Apps dependency grapth for creating database tables","text":"<p>For generating the models:</p> <pre><code>graph LR\n    badges --&gt; userauth    \n    userauth --&gt; forum\n    tags --&gt; forum\n    wiwik_lib --&gt; forum\n    spaces --&gt; forum\n    forum --&gt; similarity\n    forum --&gt; articles</code></pre>"},{"location":"arch/#database-model-question-focus","title":"Database model: Question focus","text":"<pre><code>erDiagram\n\n    Tag {\n        string tag_word\n        string description\n        int number_of_questions\n        int number_asked_today\n        int number_asked_this_week\n        datetime updated_at\n    }\n\n    Question }|--|{ Flag: \"flags\"\n    Question }|--|{ Tag: \"tags\"\n    QuestionAdditionalData ||--|| Question: \"\"\n    Question {\n        string      source\n        string      source_id\n        string      link\n        char        type\n        char        status\n        datetime    status_updated_at\n        int         answers_count\n        int         views       \n        datetime    created_at\n        datetime    updated_at   \n        datetime    last_activity_at\n\n        string      title\n        string      content\n        boolean     has_accepted_answer   \n        ForumUser   author\n        ForumUser   editor\n        ForumUser[] users_upvoted\n        ForumUser[] users_downvoted\n        Flags       flags\n        Tags        tags\n    }   \n    Answer }|--|{ Flag: \"flags\"\n    Answer }|--|| Question: question\n    Answer {\n        boolean     is_accepted\n        string      content\n        datetime    created_at\n        datetime    updated_at\n        ForumUser   author\n        ForumUser   editor\n        ForumUser[] users_upvoted\n        ForumUser[] users_downvoted\n        Flags       flags\n    }\n    QuestionInviteToAnswer }|--|| Question: invitations\n    QuestionInviteToAnswer {\n        Question    question\n        ForumUser   inviter\n        ForumUser   invitee\n    } \n    QuestionBookmark }|--|| Question: bookmarks\n    QuestionBookmark {\n        Question    question\n        ForumUser   user        \n    } \n    QuestionFollow }|--|| Question: following\n    QuestionFollow {\n        Question    question\n        ForumUser   user\n    }\n    QuestionComment }|--|| Question: comments\n    QuestionComment {\n        ForumUser   author\n        string      content\n        datetime    created_at\n        Flags       flags\n    }\n    AnswerComment }|--|| Answer: comments   \n    AnswerComment {\n        ForumUser   author\n        string      content\n        datetime    created_at\n        Flags       flags\n    }\n    VoteActivity }|--|| Question: question\n    VoteActivity }|--|o Answer: question\n    VoteActivity{\n        ForumUser   source\n        ForumUser   target\n        Question question\n        Answer answer\n        int reputation_change\n    }\n\n</code></pre>"},{"location":"arch/#database-models-user-focus","title":"Database models: User focus","text":"<pre><code>erDiagram\n    User ||--|| UserAdditionalData: \"\"\n    TagFollow }|--|| Tag : \"\"\n    TagFollow }|--|| User : \"\"\n    User {\n        string email\n        string username\n        string password\n        string title\n        string about_me\n        url profile_pic \n    }\n    UserAdditionalData {\n        int reputation\n    }\n    Tag {\n        string tag_word\n        string description\n        int number_of_questions\n        int number_asked_today\n        int number_asked_this_week\n        datetime updated_at\n    }\n    TagFollow {\n        datetime created_at\n    }\n    QuestionFollow }|--|| User: follower\n    QuestionFollow }|--|| Question: following\n    QuestionFollow {\n        Question question\n        ForumUser   user\n    }\n    Question }|--|| User: author\n    Question }|--|| User: editor\n    Question }|--|{ User: users_upvoted\n    Question }|--|{ User: users_downvoted\n\n    VoteActivity }|--|| User: source\n    VoteActivity }|--|| User: target\n    VoteActivity{\n        ForumUser   source\n        ForumUser   target\n        Question question\n        Answer answer\n        int reputation_change\n    }\n</code></pre>"},{"location":"arch/#dependencies-for-views","title":"Dependencies for views","text":"<p>WIP</p>"},{"location":"arch/configuration/","title":"Configuration","text":"<p>All of wiwik configuration is under <code>forum/main/settings</code> directory. Most settings can be changed through environment variables.</p>"},{"location":"arch/deployment/","title":"Deployment guide","text":""},{"location":"arch/deployment/#using-container-images","title":"Using container images","text":"<p>wiwik comes with <code>docker-compose.yml</code> which contains all requirements to run wiwik as containers.</p>"},{"location":"arch/deployment/#services-in-docker-compose","title":"Services in docker-compose","text":"<pre><code>flowchart LR    \n    user -- 8000 --&gt; web\n    media-root --&gt; /media\n    subgraph Dockers\n        /media\n        web([web\\nwiwik-image]) -- 5432 --&gt; postgres\n        web -- 6379 background tasks --&gt; redis\n        redis -- 6379--&gt; wiwik-worker([wiwik-worker\\nwiwik-image])        \n    end</code></pre> <p>Dependent services:</p> <ul> <li><code>db</code> - postgres database</li> <li><code>redis</code> - redis database</li> </ul> <p>wiwik services:</p> <ul> <li><code>wiwik-image</code> - will build an image with all source code of wiwik, does not   run.</li> <li><code>migrate</code> - postgres database migrations job.</li> <li><code>web</code> - will run exposing port 8000</li> <li><code>rqworker</code> - Run async tasks</li> </ul>"},{"location":"arch/deployment/#using-helm-chart","title":"Using helm-chart","text":"<p>Work in progress.</p>"},{"location":"arch/deployment/#deployment-to-server","title":"Deployment to server","text":"<p>Instructions are for deployment to debian style server (ubuntu).</p> <pre><code>flowchart LR    \n    subgraph server\n        wiwik -- 5432 --&gt; postgres[(postgres)]\n        wiwik -- 6379 background tasks --&gt; redis\n        redis -- 6379 --&gt; wiwik-worker([wiwik-worker])\n        redis -- 6379 --&gt; scheduler([scheduler])\n        style wiwik-worker stroke-width:3px,stroke-dasharray: 5 5;\n        style scheduler stroke-width:3px,stroke-dasharray: 5 5;\n        nginx -- wiwik.sock --&gt; gunicorn\n        nginx \n        subgraph gunicorn\n            wiwik([wiwik])\n            style wiwik stroke-width:3px,stroke-dasharray: 5 5; \n        end  \n        nginx --&gt; /static \n        nginx --&gt; /media    \n    end\n    user -- 80 --&gt; nginx</code></pre>"},{"location":"arch/deployment/#setup-database-postgres","title":"Setup database (postgres)","text":"<p>Install postgres and redis by running:</p> <pre><code>sudo apt update\nsudo apt install postgresql postgresql-contrib\nsudo apt install redis\n</code></pre> <p>Test that postgres is working properly:</p> <ol> <li>changing to <code>postgres</code> user: <code>sudo -i -u postgres</code></li> <li>Entering postgres command line client: <code>psql</code></li> <li>Exit client by typing: <code>\\q</code></li> </ol> <p>Create a database in postgres by:</p> <ul> <li>Create a new user: <code>createuser --interactive</code></li> <li>create a new database: <code>createdb devbb</code></li> <li>Install <code>pg_trgm</code> on the created database:</li> </ul> <pre><code>psql -U &lt;DB_USERNAME&gt;\n\\c &lt;DB_NAME&gt;\nCREATE EXTENSION pg_trgm;\n</code></pre> <ul> <li>Restore database backup</li> </ul> <pre><code>psql --file=scripts/backup_2021-11-06__00-00-01.sql --username=devbb --host=localhost --port=5432 devbb\n</code></pre>"},{"location":"arch/deployment/#deal-with-code","title":"Deal with code","text":"<ul> <li>Clone git repo <code>git clone git@github.com:dsoftwareinc/wiwik.git wiwik</code></li> <li>Install virtualenv <code>sudo apt install python3-virtualenv</code></li> <li>Create virtualenv for wiwik from wiwik directory:   <pre><code>cd wiwik/\nvirtualenv -p `which python3.11` env\n</code></pre></li> <li>Activate the virtual env and install dependencies   <pre><code>source env/bin/activate\npip install -r requirements.txt\n</code></pre></li> </ul>"},{"location":"arch/deployment/#create-gunicorn-service","title":"Create gunicorn service","text":"<p>Under <code>config/template/gunicorn.service</code> you can find the default settings to create a gunicorn service. Create a copy of this file (preferably create a new context under <code>config</code> directory and put all configuration there) and edit it. Then you can copy it for <code>systemd</code> usage, so it will be a deamon:</p> <pre><code>sudo cp config/template/gunicorn.service /etc/systemd/system/gunicorn.service\nsudo systemctl daemon-reload\nsudo systemctl restart gunicorn\n</code></pre>"},{"location":"arch/deployment/#install-nginx-and-point-to-gunicorn-service","title":"Install nginx and point to gunicorn service","text":"<p>Installing nginx depends on your OS, on ubuntu <code>sudo apt install nginx</code> works.</p> <p>Under <code>config/template/nginx.django_site.conf</code> you can find the default settings for nginx site. Create a copy of this file (preferably create a new context under <code>config</code> directory and put all configuration there) and edit it.</p> <p>Notice nginx should perform 2 main functions:</p> <ol> <li>Serve static files calls (<code>/media</code> or <code>/static</code>) directly.</li> <li>Refer to gunicorn for all other calls.</li> </ol> <p>Then copy nginx config to nginx and restart the nginx server.</p> <pre><code>sudo cp $BASE_DIR/config/$CONTEXT/nginx.django_site.conf /etc/nginx/conf.d/django_site.conf\nsudo nginx -t # &lt;&lt;&lt; Test configuration before restarting\nsudo service nginx restart\n</code></pre>"},{"location":"arch/deployment/#setup-rsyslog-to-collect-logs","title":"Setup rsyslog to collect logs","text":"<p>Set up collecting logs of gunicorn service and rqworker to log files.</p> <pre><code>touch ~/rqworker.log\ntouch ~/gunicorn.log\nsudo chown syslog:adm ~/rqworker.log\nsudo chown syslog:adm ~/gunicorn.log\nchmod 755 ~\nsudo cp $BASE_DIR/config/$CONTEXT/rsyslog.gunicorn.conf /etc/rsyslog.d/gunicorn.conf\nsudo cp $BASE_DIR/config/$CONTEXT/rsyslog.rqworker.conf /etc/rsyslog.d/rqworker.conf\n</code></pre>"},{"location":"arch/deployment/#setup-letsencrypt","title":"Setup letsencrypt","text":"<p>Follow this guide.</p> <pre><code>sudo apt install snapd\nsudo snap install core; sudo snap refresh core\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\nsudo certbot certonly --nginx\nsudo certbot renew --dry-run\n</code></pre>"},{"location":"arch/env-vars/","title":"Environment variables","text":""},{"location":"arch/env-vars/#forum-site-configuration","title":"Forum site configuration","text":"<ul> <li> <p><code>ADMIN_EMAIL</code>   email to send logs to when an error happens.</p> </li> <li> <p><code>FAVICON_LINK_LIGHT</code> &amp; <code>FAVICON_LINK_DARK</code></p> </li> <li> <p><code>ALLOWED_REGISTRATION_EMAIL_DOMAINS</code>   Domains where users should be allowed to sign up from separated by space.   Users that are not from these domains won't be allowed to sign up.</p> </li> </ul>"},{"location":"arch/env-vars/#question-settings","title":"Question settings","text":"<ul> <li> <p><code>MIN_QUESTION_CONTENT_LENGTH</code> &amp; <code>MAX_QUESTION_CONTENT_LENGTH</code>   Defaults: 20 and 30000.</p> </li> <li> <p><code>MIN_QUESTION_TITLE_LENGTH</code> &amp; <code>MAX_QUESTION_TITLE_LENGTH</code>   Defaults: 15 and 150.</p> </li> <li> <p><code>MAX_ANSWERS_ON_QUESTION</code>   Maximum number of answers allowed on questions.   Meant to avoid creating a long thread discussion.</p> </li> <li> <p><code>MAX_COMMENTS</code>   Maximum number of comments on question/answer.</p> </li> <li> <p><code>MIN_COMMENT_LENGTH</code> &amp; <code>MAX_COMMENT_LENGTH</code>   Minimum/Maximum length of comments.   defaults: 15 &amp; 200.</p> </li> <li> <p><code>QUESTIONS_PER_PAGE</code></p> </li> <li> <p><code>DAYS_FOR_QUESTION_TO_BECOME_OLD</code>   Number of days for a question to become \"old\".   Old unanswered questions are promoted to be answered.   In order to disable the feature, set this to None.   Default: <code>None</code>.</p> </li> <li><code>ALLOW_ANONYMOUS_QUESTION</code>   Should anonymous questions be allowed.   Default: <code>False</code>.</li> <li><code>MAX_SIZE_KB_IMAGE_UPLOAD</code>   Max size allowed for uploading images</li> </ul>"},{"location":"arch/env-vars/#tag-settings","title":"Tag settings","text":"<ul> <li> <p><code>NUMBER_OF_TAG_EXPERTS</code>   Number of experts (users with most reputation on tag) allowed on a tag.   Default: 2.</p> </li> <li> <p><code>NUMBER_OF_TAG_RISING_STARS</code>   Number of rising stars (users with most reputation on tag in the last month)   allowed on a tag. Default: 2.</p> </li> </ul>"},{"location":"arch/env-vars/#django-settings","title":"Django settings","text":""},{"location":"arch/env-vars/#secret_key","title":"<code>SECRET_KEY</code>","text":""},{"location":"arch/env-vars/#media_root-forummedia","title":"<code>MEDIA_ROOT</code> = <code>./forum/media</code>","text":"<p>To be used in deployment, not hard coded.</p>"},{"location":"arch/env-vars/#django_log_level","title":"<code>DJANGO_LOG_LEVEL</code>","text":"<p>Log level, <code>DEBUG</code> by default.</p>"},{"location":"arch/env-vars/#django_allowed_hosts","title":"<code>DJANGO_ALLOWED_HOSTS</code>","text":"<p>Django setting ALLOWED_HOSTS - see more info here</p>"},{"location":"arch/env-vars/#google_analytics_key","title":"<code>GOOGLE_ANALYTICS_KEY</code>","text":""},{"location":"arch/env-vars/#development-related-settings","title":"Development related settings","text":""},{"location":"arch/env-vars/#debug","title":"<code>DEBUG</code>","text":"<p>When set to <code>TRUE</code>, django debug mode is enabled, showing error views with stacktrace, etc.</p>"},{"location":"arch/env-vars/#send_emails","title":"<code>SEND_EMAILS</code>","text":"<p>Another guard for sending emails, when set to <code>TRUE</code>, emails will be sent to the real address. When set to <code>FALSE</code> (default), emails will be sent to <code>DEBUG_EMAIL_TO</code>.</p>"},{"location":"arch/env-vars/#debug_email_to","title":"<code>DEBUG_EMAIL_TO</code>","text":"<p>email address to send emails to when in <code>DEBUG</code> mode.</p>"},{"location":"arch/env-vars/#run_async_jobs_sync","title":"<code>RUN_ASYNC_JOBS_SYNC</code>","text":"<p>Whether async tasks should run in the background or not.</p> <p>Notice running in the background requires redis and a worker on.</p>"},{"location":"arch/env-vars/#authentication-using-sso","title":"Authentication using SSO","text":""},{"location":"arch/env-vars/#okta-oauth","title":"Okta oauth","text":""},{"location":"arch/env-vars/#okta_base_url-okta_client_id-okta_secret_key","title":"<code>OKTA_BASE_URL</code>, <code>OKTA_CLIENT_ID</code> &amp; <code>OKTA_SECRET_KEY</code>","text":""},{"location":"arch/env-vars/#google-oauth","title":"Google oauth","text":""},{"location":"arch/env-vars/#google_client_id-google_secret_key","title":"<code>GOOGLE_CLIENT_ID</code> &amp; <code>GOOGLE_SECRET_KEY</code>","text":""},{"location":"arch/env-vars/#facebook-oauth","title":"Facebook oauth","text":""},{"location":"arch/env-vars/#facebook_client_id-facebook_secret_key","title":"<code>FACEBOOK_CLIENT_ID</code> &amp; <code>FACEBOOK_SECRET_KEY</code>","text":""},{"location":"arch/env-vars/#integrations-databases-smtp-slack","title":"Integrations (databases, smtp, slack, ...)","text":""},{"location":"arch/env-vars/#database-settings","title":"Database settings","text":""},{"location":"arch/env-vars/#sql_engine-sql_database-sql_user-sql_password-sql_host-sql_port","title":"<code>SQL_ENGINE</code>, <code>SQL_DATABASE</code>, <code>SQL_USER</code>, <code>SQL_PASSWORD</code>, <code>SQL_HOST</code>, <code>SQL_PORT</code>","text":"<p>by default sqlite3 will be used if these variables are not set. When <code>SQL_ENGINE</code> is set to <code>django.db.backends.postgresql</code>, postgres backend will be used connecting to the host/port/db using the user/password.</p>"},{"location":"arch/env-vars/#redis-cache-settings","title":"Redis cache settings","text":"<ul> <li><code>REDIS_CACHE_URL</code> (default: No cache)   Use format <code>redis://127.0.0.1:6379/1</code></li> </ul>"},{"location":"arch/env-vars/#redis-queue-settings","title":"Redis Queue settings","text":"<p>The redis server host, port, password and redis-database to configure django-queues (See more details about django-rq-scheduler here.)</p> <p>By default, <code>localhost</code> if values are not set.</p> <ul> <li><code>REDIS_HOST</code> (default: <code>localhost</code>)</li> <li><code>REDIS_PORT</code> (default: <code>6379</code>)</li> <li><code>REDIS_PASSWORD</code> (default: <code>''</code>)</li> <li><code>REDIS_DB</code> (default: <code>0</code>)</li> </ul>"},{"location":"arch/env-vars/#email-integration-smtp","title":"Email integration (SMTP)","text":"<ul> <li> <p><code>DEFAULT_FROM_EMAIL</code>   Default from address.</p> </li> <li> <p><code>EMAIL_BACKEND</code></p> <ul> <li><code>django.core.mail.backends.console.EmailBackend</code> - print emails to console</li> <li><code>django.core.mail.backends.smtp.EmailBackend</code> - Send emails using SMTP   settings, USE WITH CAUTION DURING DEVELOPMENT!</li> </ul> </li> <li> <p><code>EMAIL_HOST</code> &amp; <code>EMAIL_PORT</code>   When <code>EMAIL_BACKEND</code> is set to SMTP, this is the host &amp; port of the SMTP server.</p> </li> <li> <p><code>EMAIL_HOST_USER</code> &amp; <code>EMAIL_HOST_PASSWORD</code>   When <code>EMAIL_BACKEND</code> is set to SMTP, this is the user &amp; password to connect to   the SMTP server.</p> </li> </ul>"},{"location":"arch/env-vars/#slack-integration","title":"Slack integration","text":""},{"location":"arch/env-vars/#slack_app_id-slack_client_id-slack_client_secret_key-slack_signing_secret_key","title":"<code>SLACK_APP_ID</code>, <code>SLACK_CLIENT_ID</code>, <code>SLACK_CLIENT_SECRET_KEY</code>, <code>SLACK_SIGNING_SECRET_KEY</code>","text":""},{"location":"arch/env-vars/#slack_verification_token","title":"<code>SLACK_VERIFICATION_TOKEN</code>","text":"<p>Used to verify requests from slack to wiwik, requests from slack are not going through regular authentication process.</p>"},{"location":"arch/env-vars/#slack_bot_token","title":"<code>SLACK_BOT_TOKEN</code>","text":"<p>Used to create a slack client to send commands from wiwik to slack.</p>"},{"location":"arch/env-vars/#slack_notifications_channel","title":"<code>SLACK_NOTIFICATIONS_CHANNEL</code>","text":"<p>Channel to send general notifications to:</p> <ul> <li>Notify tag followers about new questions</li> </ul>"},{"location":"arch/env-vars/#slack_admin_notifications_channel","title":"<code>SLACK_ADMIN_NOTIFICATIONS_CHANNEL</code>","text":"<p>Channel to send admin notifications:</p> <ul> <li>Social signup.</li> <li>email signup.</li> </ul>"},{"location":"arch/env-vars/#meilisearch-integration","title":"Meilisearch integration","text":"<p>To integrate with meilisearch, set the following env-variables:</p> <ul> <li><code>MEILISEARCH_ENABLED</code> (default: <code>False</code>)</li> <li><code>MEILISEARCH_SERVER_ADDRESS</code></li> <li><code>MEILISEARCH_MASTERKEY</code></li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#contributing-to-wiwik","title":"Contributing to wiwik","text":"<p>First off, thanks for taking the time to contribute! \u2764\ufe0f</p> <p>All types of contributions are encouraged and valued. See the Table of Contents for different ways to help and details about how this project handles them. Please make sure to read the relevant section before making your contribution. It will make it a lot easier for us maintainers and smooth out the experience for all involved. The community looks forward to your contributions. \ud83c\udf89</p> <p>And if you like the project, but just don't have time to contribute, that's fine. There are other easy ways to support the project and show your appreciation, which we would also be very happy about: - Star the project - Tweet about it - Refer this project in your project's readme - Mention the project at local meetups and tell your friends/colleagues</p>"},{"location":"contributing/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Code of Conduct</li> <li>I Have a Question</li> <li>I Want To Contribute<ul> <li>Reporting Bugs</li> <li>Suggesting Enhancements</li> <li>Your First Code Contribution</li> <li>Improving The Documentation</li> </ul> </li> <li>Styleguides<ul> <li>Commit Messages</li> </ul> </li> <li>Join The Project Team</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>This project and everyone participating in it is governed by the wiwik Code of Conduct. By participating, you are expected to uphold this code. Please report issues in the issue tracker here.</p>"},{"location":"contributing/#i-have-a-question","title":"I Have a Question","text":"<p>If you want to ask a question, we assume that you have read the available Documentation.</p> <p>Before you ask a question, it is best to search for existing Issues that might help you. In case you have found a suitable issue and still need clarification, you can write your question in this issue. It is also advisable to search the internet for answers first.</p> <p>If you then still feel the need to ask a question and need clarification, we recommend the following:</p> <ul> <li>Open an Issue.</li> <li>Provide as much context as you can about what you're running into.</li> <li>Provide project and platform versions (nodejs, npm, etc), depending on what   seems relevant.</li> <li>Tag the new created issue with   the question label</li> </ul> <p>We will then take care of the issue as soon as possible.</p>"},{"location":"contributing/#i-want-to-contribute","title":"I Want To Contribute","text":""},{"location":"contributing/#legal-notice","title":"Legal Notice","text":"<p>When contributing to this project, you must agree that you have authored 100% of the content, that you have the necessary rights to the content and that the content you contribute may be provided under the project license.</p>"},{"location":"contributing/#reporting-bugs","title":"Reporting Bugs","text":""},{"location":"contributing/#before-submitting-a-bug-report","title":"Before Submitting a Bug Report","text":"<p>A good bug report shouldn't leave others needing to chase you up for more information. Therefore, we ask you to investigate carefully, collect information and describe the issue in detail in your report. Please complete the following steps in advance to help us fix any potential bug as fast as possible.</p> <ul> <li>Make sure that you are using the latest version.</li> <li>Determine if your bug is really a bug and not an error on your side e.g. using   incompatible environment components/versions (Make sure that you have read   the documentation.   If you are looking for support, you might want to check   this section).</li> <li>To see if other users have experienced (and potentially already solved) the   same issue you are having, check if there is not already a bug report existing   for your bug or error in the</li> <li>bug tracker.</li> <li>Also make sure to search the internet (including Stack Overflow) to see if   users outside the GitHub   community have discussed the issue.</li> <li>Collect information about the bug:<ul> <li>Stack trace (Traceback)</li> <li>OS, Platform and Version (Windows, Linux, macOS, x86, ARM)</li> <li>Version of the interpreter, compiler, SDK, runtime environment, package   manager, depending on what seems relevant.</li> <li>Possibly your input and the output</li> <li>Can you reliably reproduce the issue? And can you also reproduce it with   older versions?</li> </ul> </li> </ul>"},{"location":"contributing/#how-do-i-submit-a-good-bug-report","title":"How Do I Submit a Good Bug Report?","text":"<p>You must never report security related issues, vulnerabilities or bugs including sensitive information to the issue tracker, or elsewhere in public. Instead sensitive bugs must be sent by email to wiwik@moransoftware.ca.</p> <p>We use GitHub issues to track bugs and errors. If you run into an issue with the project:</p> <ul> <li>Open an Issue.   (Since we can't be sure at this point whether it is a bug or not, we ask you   not to talk about a bug yet and   not to label the issue.)</li> <li>Follow the issue template and provide as much context as possible and describe   the reproduction steps that someone else can follow to recreate the issue on   their own.   This usually includes your code.   For good bug reports you should isolate the problem and create a reduced test   case.</li> <li>Provide the information you collected in the previous section.</li> </ul> <p>Once it's filed:</p> <ul> <li>The project team will label the issue accordingly.</li> <li>A team member will try to reproduce the issue with your provided steps. If   there are no reproduction steps or no obvious way to reproduce the issue, the   team will ask you for those steps and mark the issue as <code>needs-repro</code>. Bugs   with the <code>needs-repro</code> tag will not be addressed until they are reproduced.</li> <li>If the team is able to reproduce the issue, it will be marked <code>needs-fix</code>, as   well as possibly other tags (such as <code>critical</code>), and the issue will be left   to be implemented by someone.</li> </ul>"},{"location":"contributing/#suggesting-enhancements","title":"Suggesting Enhancements","text":"<p>This section guides you through submitting an enhancement suggestion for wiwik, including completely new features and minor improvements to existing functionality. Following these guidelines will help maintainers and the community to understand your suggestion and find related suggestions.</p>"},{"location":"contributing/#before-submitting-an-enhancement","title":"Before Submitting an Enhancement","text":"<ul> <li>Make sure that you are using the latest version.</li> <li>Read the documentation carefully and   find out if the functionality is already covered, maybe by an individual   configuration.</li> <li>Perform a search to see if the   enhancement has already been suggested. If it has, add a comment to the   existing issue instead of opening a new one.</li> <li>Find out whether your idea fits with the scope and aims of the project. It's   up to you to make a strong case to convince the project's developers of the   merits of this feature. Keep in mind that we want features that will be useful   to the majority of our users and not just a small subset. If you're just   targeting a minority of users, consider writing an add-on/plugin library.</li> </ul>"},{"location":"contributing/#how-do-i-submit-a-good-enhancement-suggestion","title":"How Do I Submit a Good Enhancement Suggestion?","text":"<p>Enhancement suggestions are tracked as GitHub issues.</p> <ul> <li>Use a clear and descriptive title for the issue to identify the   suggestion.</li> <li>Provide a step-by-step description of the suggested enhancement in as many   details as possible.</li> <li>Describe the current behavior and explain which behavior you expected to   see instead and why. At this point you can also tell which alternatives do   not work for you.</li> <li>You may want to include screenshots and animated GIFs which help you   demonstrate the steps or point out the part which the suggestion is related   to. You can use this tool to record GIFs on   macOS and Windows, and this tool   or this tool on   Linux. </li> <li>Explain why this enhancement would be useful to most wiwik users. You   may also want to point out the other projects that solved it better and which   could serve as inspiration.</li> </ul>"},{"location":"contributing/#your-first-code-contribution","title":"Your First Code Contribution","text":"<p>Unsure where to begin contributing? You can start by looking through help-wanted issues.</p> <p>Never contributed to open source before? Here are a couple of friendly tutorials:</p> <ul> <li>http://makeapullrequest.com/</li> <li>http://www.firsttimersonly.com/</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting started","text":"<ul> <li>Create your own fork of the repository</li> <li>Do the changes in your fork</li> <li>Follow guide to setup local development environment</li> </ul>"},{"location":"contributing/#improving-the-documentation","title":"Improving The Documentation","text":"<ul> <li>Create your own fork of the repository</li> <li>Do the changes in your fork.</li> <li>Create a pull request with the changes.</li> </ul>"},{"location":"contributing/#style-guides","title":"Style guides","text":""},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>Taken from The seven rules of a great Git commit message:</p> <ol> <li>Separate subject from body with a blank line</li> <li>Limit the subject line to 50 characters</li> <li>Capitalize the subject line</li> <li>Do not end the subject line with a period</li> <li>Use the imperative mood in the subject line</li> <li>Wrap the body at 72 characters</li> <li>Use the body to explain what and why vs. how</li> </ol>"},{"location":"contributing/#join-the-project-team","title":"Join The Project Team","text":"<p>If you wish to be added to the project team as a collaborator, please send a message to wiwik@moransoftware.ca with explanation.</p>"},{"location":"features/","title":"Features","text":""},{"location":"features/#list-of-active-features","title":"List of active features","text":""},{"location":"features/#forum-functionality","title":"Forum functionality","text":"<p>The main purpose of wiwik is to serve as a platform for your developers to quickly find answers for what they need. If they could not find it with the existing data, they can post it as a new question for other developers to answer.</p> <ul> <li> Homepage for user </li> <li> Post view </li> <li> <p> Post with charts and LaTeX </p> </li> <li> <p>Search existing posts.</p> </li> <li>Post/edit questions and answers with Markdown, LaTeX and mermaidjs   support.</li> <li>(Optional) Post question anonymously.</li> <li>Comment on questions/answers.</li> <li>Upvote/downvote posts enable measuring post relevancy and tracking of   users' reputation.</li> <li>Bookmark thread for faster future access.</li> <li>Follow thread to get notifications on new activity.</li> <li>Dark/light mode</li> <li>Invite to answer question</li> <li>Moderation (edit/delete posts)</li> <li>Flags<ul> <li>Users can flag posts/comments as duplicate/unclear/etc. and moderators can   review flags and act upon them.</li> </ul> </li> <li>Articles<ul> <li>New posts as articles, good for summarizing repetitive issues.</li> </ul> </li> <li>Drafts (Roadmap)<ul> <li>Create new posts (Both Q&amp;A) as drafts to be reviewed by moderators   before they show up in wiwik. Drafts can be created by crawlers.</li> </ul> </li> </ul>"},{"location":"features/#notifications-emails","title":"Notifications (emails)","text":"<ul> <li>New activity on a tag/post user is following</li> <li>Weekly report for user</li> <li>Manager report on users' activity.</li> </ul>"},{"location":"features/#authenticationauthorization","title":"Authentication/Authorization","text":"<ul> <li>Ability to track user activity and limit what they can do.</li> <li>Seamless integration with external authentication systems such as:   google, facebook, okta, LDAP.</li> </ul>"},{"location":"features/#user-profile-management","title":"User profile management","text":"<ul> <li>See user activity</li> <li>Edit profile</li> <li>Moderation (Deactivate user)</li> <li>Screenshots<ul> <li> List of users </li> <li> User profile </li> </ul> </li> </ul>"},{"location":"features/#tags","title":"Tags","text":"<ul> <li>Follow tags.</li> <li>Edit tag description + info page.</li> <li>Tag leaders/rising stars.</li> <li>Screenshots<ul> <li> List of tags </li> <li> Tag info view </li> </ul> </li> </ul>"},{"location":"features/#questions-similarity-related-questions","title":"Questions similarity (Related questions)","text":""},{"location":"features/#slack-integration","title":"Slack integration","text":"<ul> <li>Search wiwik from slack using <code>/wiwik</code> command</li> <li>Convert a slack thread to a new wiwik post</li> <li>Get notified via slack on new relevant activity</li> <li>Get admin notifications (when new user sign-up, etc.)</li> </ul>"},{"location":"features/#badges","title":"Badges","text":"<ul> <li>Gamification of wiwik. Add awards</li> <li>Screenshots<ul> <li> List of badges </li> <li> Single badge info </li> </ul> </li> </ul>"},{"location":"features/#rss-feed","title":"RSS feed","text":"<ul> <li>Data is exposed as RSS feed.</li> </ul>"},{"location":"features/#under-development","title":"Under development","text":"<ul> <li> Sub-communities (spaces): allow posts to belong to private communities</li> <li> Questions drafts</li> <li> Microsoft Teams notifications</li> <li> GitHub view of user activity</li> <li> Soft-delete of posts</li> </ul>"},{"location":"features/badges/","title":"Badges","text":"<p>User can gain badges based on actions they are taking such as posting new questions, answering posts, voting, or editing posts.</p> <p>When an activity happen on wiwik, an event is triggered to determine whether users are entitled to badges associated with the activity.</p> <p>Out of the box badges: - Strunk &amp; White  Edit 20 posts - Copy editor  Edit 100 posts - Supporter First upvote - Starter  Ask your first question - Sportsmanship  Upvote 10 answers on questions where an answer of yours has a positive score - Pioneer  Ask one of the first 10 questions on wiwik - Curious  Ask ten questions - Philosopher  Ask 100 questions - Favorite Question  Question bookmarked by 3 users - Stellar Question  Question bookmarked by 10 users - Popular Question  Question with 50 views - Notable Question  Question with 250 views - Famous Question  Question with 1000 views - Teacher  Answer a question with score of 1 or more - Tenacious  5 accepted answers with no votes - Unsung Hero  10 accepted answers with no votes - Populist  Highest scoring answer that outscored the accepted answer by more than 5 - Autobiographer  Edit the title and about me section in profile - Commenter  Wrote 10 comments - Pundit  Wrote 10 comments that have 5 upvotes - Workaholic  Visit the site each day for 30 consecutive days. (Days are counted in UTC.) - Commuter  Visit the site from multiple cities (in the same country) - Traveller  Visit the site from more than 1 country - Digital Nomad  Visit the site from 5 countries or more - Synonymizer  Suggest a synonym that is accepted - Meticulous  Suggest 10 accepted synonyms - Tag Editor  First tag edit - Taxonomist  Create a tag used by 20 questions - Editor  First edit</p>"},{"location":"features/badges/#screenshots","title":"Screenshots","text":"List of badges Single badge info"},{"location":"features/invitation/","title":"Invite to answer post","text":"<p>A user can invite another user to answer a post with no accepted answer.</p> <p>That user will be notified when they are invited (via email/slack).</p>"},{"location":"features/invitation/#sequence-diagram","title":"Sequence diagram","text":"<pre><code>sequenceDiagram\n    autonumber\n    actor user as User\n    participant invite as Invite View\n    participant autocomplete as Users autocomplete View\n    participant db as DB\n    participant mq as Messages &lt;br&gt; Queue\n    participant worker as Worker\n\n    note over user,worker: Search users to invite\n    user -&gt;&gt;+ autocomplete: User types query\n    autocomplete -&gt;&gt;+ db: Query users\n    db --&gt;&gt;- autocomplete: Users matching data\n    autocomplete -&gt;&gt; autocomplete: Filter out irrelevant data\n    autocomplete --&gt;&gt;- user: Users data that match query\n\n    note over user,worker: Send invitations\n    user -&gt;&gt;+ invite: List of users&lt;br&gt;to invite to answer\n    invite -&gt;&gt;+ db: Fetch users with names\n    db --&gt;&gt;- invite: Users with name\n    invite -&gt;&gt;+ db: Create new invitations\n    db --&gt;&gt;- invite: Ok\n    invite -&gt;&gt;+ mq: send invites\n    invite --&gt;&gt;- user : Ack\n    mq -&gt;&gt;- worker: Pickup task\n    worker -&gt;&gt;+ db: Query user notification preferences\n    db --&gt;&gt;- worker: user notification preferences\n    worker -&gt;&gt;+ worker: send invites to users via preferred channel\n</code></pre>"},{"location":"features/oauth/","title":"Authentication &amp; Authorization","text":""},{"location":"features/oauth/#authentication","title":"Authentication","text":""},{"location":"features/oauth/#oauth","title":"OAuth","text":"<p>wiwik can integrate with various external oauth parties such as google, facebook, okta, etc.</p> <p>In order to do this, most third party requires some setup on their side to identify wiwik as a new app authenticating using oauth and wiwik requires some settings on the environment variables.</p>"},{"location":"features/oauth/#self-authentication-management","title":"Self authentication management","text":"<p>wiwik can also allow maintaining its own authentication database. This is a valid use-case when wiwik is being tried out by a small group as it enables quick deployment without the need of configuration of any 3rd party.</p>"},{"location":"features/oauth/#authorization","title":"Authorization","text":"<p>All active users are able to view posts that are not associated with any specific space, i.e., posts that are public.</p> <p>Users can be associated with spaces (become space members), and gain access to posts available only on these spaces.</p> <p>User can be associated with one or more team.</p> <p>User/Team access to post new posts can be managed via the admin views.</p> <p>User/Team access to edit/delete exiting posts (moderation) can be managed via the admin views, however, based on users' feedback, it is good to grant this access based on the engagement of the users with the platform - i.e., if a user visited daily for 30 days, or reached certain reputation.</p>"},{"location":"features/oauth/#technical-details","title":"Technical details","text":"<p>All relevant data is under <code>userauth</code> app.</p>"},{"location":"features/search/","title":"Search","text":""},{"location":"features/search/#integration-with-meilisearch","title":"Integration with Meilisearch","text":"<p>wiwik can integrate with Meilisearch. In order to integrate with meilisearch, you need to set up three environment variables:</p> <pre><code>MEILISEARCH_ENABLED=TRUE\nMEILISEARCH_SERVER_ADDRESS=http://localhost:7700\nMEILISEARCH_MASTERKEY=masterKey\n</code></pre> <p>In order to populate the index, run</p> <pre><code>python manage.py run_job populate_meilisearch\n</code></pre> <p>The document gets updated when a question is saved.</p>"},{"location":"features/search/#using-postgres-full-text-search","title":"Using postgres full-text-search","text":"<p>There are two levels of search when using postgres database search. The first level of search is implemented as an extension to the <code>Post</code> model: There is a field <code>search_vector</code> which is updated when saving a post.</p> <p>The calculation of search vector uses postgres full text search with:</p> <ul> <li>Post title with weight <code>A</code>.</li> <li>Post content with weight <code>B</code>.</li> <li>Post tags with weight <code>C</code>.</li> <li>Answers content with weight <code>D</code>.</li> </ul> <p>Once a user submits a search, it runs a postgres search query on that vector and ranks results accordingly.</p> <p>The second level of search, if there are no results from the first level - involves calculating trigram distance between the query and the post body (i.e., title+content).</p>"},{"location":"features/search/#using-sqlite","title":"Using sqlite","text":"<p>When using sqlite, the search method is simply looking in the post title for a match.</p>"},{"location":"features/similarity/","title":"Posts similarity","text":"<p>When viewing a post, wiwik shows a list of the five most similar posts on the side.</p> <p>Similarity is calculated automatically using several methods:</p> <ul> <li>postgres full text search rank</li> <li>trigram distance</li> <li>TF-IDF</li> </ul> <p>Currently only the postgres full-text search rank is taken into account, but this can be adapted.</p>"},{"location":"features/similarity/#technical-structure","title":"Technical structure","text":"<p>All relevant data is under <code>forum/similarity</code> django app.</p>"},{"location":"features/similarity/#models","title":"Models","text":""},{"location":"features/similarity/#postsimilarity","title":"<code>PostSimilarity</code>","text":"<p>A model containing all information about similarity between two posts.</p> <pre><code>erDiagram\n    PostSimilarity }|--|{ Question : question1\n    PostSimilarity }|--|{ Question : question2\n    PostSimilarity{\n        decimal postgres_rank\n        decimal postgres_trigram_rank\n        decimal tfidf_rank\n        decimal rank\n    }\n</code></pre> <p>The model can be managed from the admin view.</p>"},{"location":"features/similarity/#views","title":"Views","text":""},{"location":"features/slack/","title":"Slack","text":"<p>icon:  status: new</p> <p> Sponsors only \u00b7  wiwik-insiders</p> <p>wiwik integrates with Slack for several things:</p> <ul> <li>Send notifications on certain events, such as send to a channel   that a new post was published on tag, send post followers   about a new answer to the post, etc.</li> <li>A <code>Post to wiwik</code> action button in chosen Slack channels.   Any user who exists in wiwik can post a slack message on wiwik without   leaving slack.</li> <li>Search from slack: Enabling search wiwik from slack.</li> </ul> <p>In order to do this, wiwik uses slack-sdk.</p>"},{"location":"features/slack/#slack-api-used","title":"Slack API used","text":"<ul> <li>chat_postMessage</li> <li>users_lookupByEmail</li> <li>users_info</li> <li>chat_getPermalink</li> <li>views_open</li> </ul>"},{"location":"features/slack/#slack-app","title":"Slack app","text":"<p>The Slack application wiwik is using should have the permissions required to use the APIs mentioned.</p> <p>The Slack app has a bot to publish message from - and wiwik needs to set up the bot token assosiated with that bot. All calls to Slack API use the bot token.</p> <p>The Slack app needs to configure interactivity &amp; shortcuts URLs in order to get the view to create a post, get a list of tags. The URLs Slack call are not protected via login/tokens (since Slack can not login to wiwik). Instead, all incoming requests are verified using <code>slack_sdk.signature</code> generated using <code>SLACK_SIGNING_SECRET_KEY</code> which should be set in the environment variables.</p>"},{"location":"features/slack/#post-from-slack-sequence-diagram","title":"Post from Slack sequence diagram","text":"<pre><code>sequenceDiagram\n    autonumber\n\n    participant user \n    participant Slack\n    participant wiwik\n\n    user -&gt;&gt;+ Slack: triggers \"post to wiwik\" action\n    Slack -&gt;&gt;+ wiwik: post_wiwik: message_action \n    wiwik -&gt;&gt; wiwik: Find wiwik user for Slack id\n    alt Slack id not associated with user\n        wiwik -&gt;&gt;+ Slack: users_info for Slack id\n        Slack --&gt;&gt;- wiwik: email, etc.\n        wiwik -&gt;&gt; wiwik: get user for email\n        alt user not found\n            wiwik -&gt;&gt;- Slack: views_open \"You are not signed up to wiwik, &lt;br/&gt;please sign up...\"\n            Slack --&gt;&gt;- user: show view with link to sign up\n        end\n    else user found\n        wiwik -&gt;&gt; Slack: views_open Question post view\n        Slack --&gt;&gt; user: show view with question form\n        user -&gt;&gt;+ Slack: edit form, enter tags\n        Slack -&gt;&gt;+ wiwik: query tags\n        wiwik -&gt;&gt; wiwik: verify signature\n        wiwik --&gt;&gt;- Slack: return tags matching query\n        Slack --&gt;&gt;- user: \n\n        user -&gt;&gt;+ Slack: user submit form\n        Slack -&gt;&gt;+ wiwik: post_wiwik: view_submission\n        wiwik -&gt;&gt;+ Slack: chat_getPermalink for original message\n        Slack --&gt;&gt;- wiwik: link\n        wiwik -&gt;&gt; wiwik: Create question post\n        wiwik -&gt;&gt;+ Slack: Post reply to message &lt;br/&gt; \"Posted as question to wiwik\"\n        Slack --&gt;&gt;- wiwik: ack\n        wiwik --&gt;&gt;- Slack: ack\n        Slack --&gt;&gt;- user: ack\n    end</code></pre>"},{"location":"features/slack/#slack-configuration","title":"Slack configuration","text":"<ul> <li>Install the wiwik app</li> <li>Configure the environment variables: <code>SLACK_APP_ID</code>, <code>SLACK_CLIENT_ID</code>,   <code>SLACK_CLIENT_SECRET_KEY</code>, <code>SLACK_SIGNING_SECRET_KEY</code>,   <code>SLACK_VERIFICATION_TOKEN</code></li> <li>Optionally, configure as well: <code>SLACK_BOT_TOKEN</code>,   <code>SLACK_NOTIFICATIONS_CHANNEL</code>, <code>SLACK_ADMIN_NOTIFICATIONS_CHANNEL</code></li> <li>Go to Interactivity &amp; shortcuts   and set up the request url to be <code>https://{your domain}/integrations/slack_post/</code><ul> <li>Under select menus, set up Options Load URL   to: <code>https://{your domain}/integrations/tags_autocomplete/</code></li> </ul> </li> <li>Go to slash commands,   select <code>/wiwik</code> command and in the request URL   enter: <code>https://{your domain}/integrations/slack_search/</code></li> </ul>"}]}